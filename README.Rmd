---
title: "ffplot"
author: "David Hugh-Jones"
date: "8 September 2015"
output: html_document
---

```{r, echo = FALSE, eval = FALSE}
# to create README.md
library(rmarkdown)
render("README.Rmd", md_document(fig_width = 4, fig_height = 3))
```
# ffplot: a fast, friendly plotting command for R. 

`ffplot` is a simple and intuitive frontend around `ggplot2`. `ffplot`'s goal is to be usable without thinking.

Status: totally alpha! Download and enjoy. 

## Install

```{r, eval = FALSE}
library(devtools)
install_github("hughjonesd/ffplot")
```


## Examples

```{r}
library(ffplot)
data(diamonds, package = "ggplot2")
d30 <- diamonds[1:30,]
head(d30)
```


Simple scatterplots: 

```{r}
ffplot(price ~ carat, diamonds)
```

Plot numeric data by categories: 

```{r}
ffplot(price ~ color, d30) # TODO: default to violin?
```

Barplot of categorical data:

```{r}
ffplot(cut ~ color, diamonds) 
```

Density plot, if right hand side is numeric:

```{r}
ffplot(cut ~ depth, diamonds, position = "fill") 
```


Plot a function of your data:

```{r}
ffplot(range(price) ~ color, d30) 
```

Different plot types:

```{r}
ffplot(boxplot(price) ~ cut, diamonds)
```

Multiple plot types and options:

```{r}
ffplot(price + line(mean(price), color = "red") ~ cut, d30) 
```


Mean and confidence intervals. `ffplot` guesses that you want error bars for the built-in `ci` function:

```{r}
ffplot(mean(price) + ci(price, 0.95) ~ cut, diamonds) 
```

Add `ggplot2` options:

```{r}
library(ggplot2)
ffplot(cut ~ color, diamonds) + scale_fill_grey()
```

Use it with `dplyr` or `magrittr`:

```{r}
library(dplyr)
diamonds %>% ffplot(cut ~ color)
```


Bonus `fftable` function:

```{r}
fftable(range(carat) ~ color, diamonds)
```

## Cookbook

Plot proportions in a group:
```{r}
ffplot(hist(cut, position = "fill") ~ color, diamonds)
```


Barplot with confidence intervals:

```{r}
ffplot(bar(mean(price)) + ci(price, 0.99) ~ color, diamonds) 
```

Barplot of proportions with binomial confidence intervals:
```{r}
ffplot(prop(cut == "Ideal") + ci(cut == "Ideal") ~ color, diamonds)
```

## TODO

* Auto-smoothing for continuous x variables
* Better ability to override defaults (DONE)
* More geoms
* `ci` function for binomial data (DONE)
* Facetting
* `se` function for standard errors?
* replace auto-barplot with some kind of `props()` function?
* How to decide whether to do confidence intervals for proportions or counts? I think default to proportions
